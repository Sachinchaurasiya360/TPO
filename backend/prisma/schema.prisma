generator client {
  provider = "prisma-client-js"
  output   = "./prismaclient"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum UserAcademicYear {
  Y2022_26
  Y2023_27
  Y2024_28
  Y2025_29
  Y2026_30
  Y2027_31
}

model User {
  id            String           @id @default(cuid())
  fullName      String
  legalName     String?
  contactNo     String?
  emailId       String           @unique
  password      String
  cgpa          Float?
  studentId     String
  department String?
  academicYear  UserAcademicYear?
  skills        String[]
  profilePic    String?
  resumeUrl     String?
  isVerified    Boolean          @default(false)
  createdAt     DateTime         @default(now())
  socialProfile String?
  achievements  Achievement[]
  alumni        Alumni?
  internships   Internship[]
}

model Internship {
  id          String  @id @default(cuid())
  title       String?
  companyName String?
  duration    String?
  studentId   String?
  student     User?   @relation(fields: [studentId], references: [id])
}

model Achievement {
  id        String    @id @default(cuid())
  title     String?
  details   String?
  time      DateTime?
  studentId String
  student   User?      @relation(fields: [studentId], references: [id])
}

model Admin {
  id        String @id @default(ulid())
  firstName String
  lastName  String
  contactNo String
  emailId   String @unique
  password  String
}

model Alumni {
  id         String   @id @default(uuid())
  placedBy   String
  pastOrg    String[]
  currentOrg String[]
  package    String
  student    User?     @relation(fields: [id], references: [id])
}
